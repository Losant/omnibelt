const { pipe, unary, map, prop, always, tryCatch } = require('ramda');
const { testHarnessUnary } = require('../../test/utils');
const keyByWith = require('./key-by-with');
const testHarnessAdapter = (obj) => {
    const { list, keyFn, valueFn, expectedResult } = obj;
    testHarnessUnary(keyByWith(keyFn, valueFn), list, expectedResult);
};
const cases = [
    {
        list: [{ key: 'foo', value: 'bar' }, { key: 'a', value: 1 }],
        keyFn: prop('key'),
        valueFn: prop('value'),
        expectedResult: { foo: 'bar', a: 1 }
    },
    {
        list: [{ key: 'foo', json: '"bar"' }, { key: 'a', json: 1 }],
        keyFn: prop('key'),
        valueFn: pipe(prop('json'), tryCatch(unary(JSON.parse), always(null))),
        expectedResult: { foo: 'bar', a: 1 }
    }
];
map(testHarnessAdapter)(cases);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoia2V5LWJ5LXdpdGgudGVzdC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9vbW5pYmVsdC9rZXktYnktd2l0aC50ZXN0LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE1BQU0sRUFDSixJQUFJLEVBQUUsS0FBSyxFQUFFLEdBQUcsRUFBRSxJQUFJLEVBQUUsTUFBTSxFQUFFLFFBQVEsRUFDekMsR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUM7QUFFckIsTUFBTSxFQUFFLGdCQUFnQixFQUFFLEdBQUcsT0FBTyxDQUFDLGtCQUFrQixDQUFDLENBQUM7QUFDekQsTUFBTSxTQUFTLEdBQUcsT0FBTyxDQUFDLGVBQWUsQ0FBQyxDQUFDO0FBRTNDLE1BQU0sa0JBQWtCLEdBQUcsQ0FBQyxHQUFHLEVBQUUsRUFBRTtJQUNqQyxNQUFNLEVBQUUsSUFBSSxFQUFFLEtBQUssRUFBRSxPQUFPLEVBQUUsY0FBYyxFQUFFLEdBQUcsR0FBRyxDQUFDO0lBRXJELGdCQUFnQixDQUFDLFNBQVMsQ0FBQyxLQUFLLEVBQUUsT0FBTyxDQUFDLEVBQUUsSUFBSSxFQUFFLGNBQWMsQ0FBQyxDQUFDO0FBQ3BFLENBQUMsQ0FBQztBQUVGLE1BQU0sS0FBSyxHQUFHO0lBQ1o7UUFDRSxJQUFJLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFFLEtBQUssRUFBRSxFQUFFLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxLQUFLLEVBQUUsQ0FBQyxFQUFFLENBQUM7UUFDNUQsS0FBSyxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUM7UUFDbEIsT0FBTyxFQUFFLElBQUksQ0FBQyxPQUFPLENBQUM7UUFDdEIsY0FBYyxFQUFFLEVBQUUsR0FBRyxFQUFFLEtBQUssRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFO0tBQ3JDO0lBQ0Q7UUFDRSxJQUFJLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRSxLQUFLLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRSxFQUFFLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxJQUFJLEVBQUUsQ0FBQyxFQUFFLENBQUM7UUFDNUQsS0FBSyxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUM7UUFDbEIsT0FBTyxFQUFFLElBQUksQ0FDWCxJQUFJLENBQUMsTUFBTSxDQUFDLEVBQ1osUUFBUSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLEVBQUUsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQzFDO1FBQ0QsY0FBYyxFQUFFLEVBQUUsR0FBRyxFQUFFLEtBQUssRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFO0tBQ3JDO0NBQ0YsQ0FBQztBQUVGLEdBQUcsQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDIn0=